STM32学习笔记(十)---DMA

[TOC]

## DMA简介

直接存储器访问（DMA）用于在**外设与存储器**之间以及**存储器和存储器之间**提供高速数据传输。

每个DMA控制器有8个数据流，每个数据流有多达8个通道（或称请求）

## DMA框图

![1565686885664](.\图片\1565686885664.png)

### 1. 通道选择

每个数据流都与一个DMA请求相关联，此DMA请求可以从8个可能的通道请求中选出。此选择由 DMA_SxCR 寄存器中的 CHSEL[2:0] 位控制 

![1565687329391](.\图片\1565687329391.png)



![1565687438475](C:\Users\xiaoyuan\Desktop\学习笔记\图片\1565687438475.png)

![1565687507901](C:\Users\xiaoyuan\Desktop\学习笔记\图片\1565687507901.png)

### 2. 仲裁器

优先级管理分两个阶段：

- 软件：可配置为 **非常高**、**高**、**中**、**低**四个优先级。
- 硬件：如果有两个请求相同的软件优先级，则编号低的数据流优先与编号高的数据流。

